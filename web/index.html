<!DOCTYPE html>
<html>
<head>
  <!--
    If you are serving your web app in a path other than the root, change the
    href value below to reflect the base path you are serving from.

    The path provided below has to start and end with a slash "/" in order for
    it to work correctly.

    For more details:
    * https://developer.mozilla.org/en-US/docs/Web/HTML/Element/base

    This is a placeholder for base href that will be replaced by the value of
    the `--base-href` argument provided to `flutter build`.
  -->
  <base href="$FLUTTER_BASE_HREF">

  <meta charset="UTF-8">
  <meta content="IE=Edge" http-equiv="X-UA-Compatible">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <!-- Google Site Verification -->
  <meta name="google-site-verification" content="JAz06CJeUHjDiy3vVciNoSnG7JxcN7xKp7JlWt5L1Ts" />
  
  <!-- Bing Webmaster Verification -->
  <meta name="msvalidate.01" content="AF41985CCC683C2C379906A9DCE03DAA" />
  
  <!-- Primary SEO Meta Tags -->
  <title>Air24 - Free Flight Compensation Claim | EU Regulation 261/2004 | Get Up to €600</title>
  <meta name="title" content="Air24 - Free Flight Compensation Claim | EU Regulation 261/2004 | Get Up to €600">
  <meta name="description" content="Claim €250-€600 compensation for delayed, cancelled, or overbooked flights in the EU. Free tool powered by EC Regulation 261/2004. Track your claim easily. No win, no fee.">
  <meta name="keywords" content="flight compensation, delayed flight compensation, cancelled flight refund, EU regulation 261/2004, airline compensation, flight refund, overbooked flight, air passenger rights, free flight compensation claim, €600 compensation">
  <meta name="author" content="Air24">
  <meta name="robots" content="index, follow">
  <meta name="language" content="English, Spanish, Portuguese, French, German, Polish">
  <link rel="canonical" href="https://air24.app/">
  
  <!-- Open Graph / Facebook -->
  <meta property="og:type" content="website">
  <meta property="og:url" content="https://air24.app/">
  <meta property="og:title" content="Air24 - Claim Up to €600 for Delayed Flights | Free Tool">
  <meta property="og:description" content="Flight delayed 3+ hours? Claim €250-€600 compensation under EU law. Free, fast, and easy. Track your claim in real-time. No win, no fee.">
  <meta property="og:image" content="https://air24.app/icons/Icon-512.png">
  <meta property="og:site_name" content="Air24">
  <meta property="og:locale" content="en_US">
  <meta property="og:locale:alternate" content="es_ES">
  <meta property="og:locale:alternate" content="pt_PT">
  <meta property="og:locale:alternate" content="fr_FR">
  <meta property="og:locale:alternate" content="de_DE">
  <meta property="og:locale:alternate" content="pl_PL">

  <!-- Twitter Card -->
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:url" content="https://air24.app/">
  <meta name="twitter:title" content="Air24 - Claim Up to €600 for Delayed Flights">
  <meta name="twitter:description" content="Flight delayed 3+ hours? Claim €250-€600 compensation under EU law. Free, fast, and easy.">
  <meta name="twitter:image" content="https://air24.app/icons/Icon-512.png">

  <!-- iOS meta tags & icons -->
  <meta name="mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="apple-mobile-web-app-title" content="Air24">
  <link rel="apple-touch-icon" href="icons/Icon-192.png">

  <!-- Favicon -->
  <link rel="icon" type="image/png" href="favicon.png"/>
  <link rel="shortcut icon" type="image/png" href="favicon.png"/>

  <link rel="manifest" href="manifest.json">
  
  <!-- Schema.org JSON-LD Structured Data -->
  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "WebApplication",
    "name": "Air24",
    "url": "https://air24.app",
    "description": "Free flight compensation claim tool for EU passengers. Claim €250-€600 for delayed, cancelled, or overbooked flights under EC Regulation 261/2004.",
    "applicationCategory": "TravelApplication",
    "operatingSystem": "Web, iOS, Android",
    "offers": {
      "@type": "Offer",
      "price": "0",
      "priceCurrency": "EUR"
    },
    "aggregateRating": {
      "@type": "AggregateRating",
      "ratingValue": "4.8",
      "ratingCount": "150"
    },
    "inLanguage": ["en", "es", "pt", "fr", "de", "pl"]
  }
  </script>
  
  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "Organization",
    "name": "Air24",
    "url": "https://air24.app",
    "logo": "https://air24.app/icons/Icon-512.png",
    "sameAs": [],
    "description": "Air24 helps EU passengers claim compensation for delayed, cancelled, or overbooked flights. Free tool based on EU Regulation 261/2004."
  }
  </script>
  
  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "FAQPage",
    "mainEntity": [
      {
        "@type": "Question",
        "name": "How much compensation can I get for a delayed flight?",
        "acceptedAnswer": {
          "@type": "Answer",
          "text": "Under EU Regulation 261/2004, you can claim €250 for flights under 1,500km, €400 for flights 1,500-3,500km, and €600 for flights over 3,500km if delayed 3+ hours."
        }
      },
      {
        "@type": "Question",
        "name": "When am I eligible for flight compensation?",
        "acceptedAnswer": {
          "@type": "Answer",
          "text": "You're eligible if your flight departed from an EU airport or arrived at an EU airport on an EU airline, was delayed 3+ hours, cancelled less than 14 days before departure, or you were denied boarding due to overbooking."
        }
      },
      {
        "@type": "Question",
        "name": "Is Air24 free to use?",
        "acceptedAnswer": {
          "@type": "Answer",
          "text": "Yes! Air24 is completely free. We help you track your claim and provide all the tools you need to claim compensation from airlines."
        }
      }
    ]
  }
  </script>
  
  <!--google cloud client ID-->
  <meta name="google-signin-client_id" content="445502709010-v0797dcc0hs0q4tnemo0utcujv49b5n0.apps.googleusercontent.com">

  <!-- Worldcoin IDKit config (public). Set these in production builds. -->
  <meta name="worldcoin-app-id" content="app_6f4b07c9d84438a94414813a89974ab0">
  <meta name="worldcoin-action" content="flight-compensation-mini-app-verify">

  <!-- Firebase SDK -->
  <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-app.js"></script>
  <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-auth.js"></script>
  <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-storage.js"></script>
  <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-firestore.js"></script>

  <!-- MiniKit SDK for World App Mini Apps -->
  <script type="module">
    async function initMiniKit() {
      try {
        // Use MiniKit provided by host (World App) when available
        if (!window.MiniKit) {
          // Load CDN fallback only for regular web
          const mod = await import('https://cdn.jsdelivr.net/npm/@worldcoin/minikit-js@1.0.0/+esm');
          window.MiniKit = mod.MiniKit;
          console.log('MiniKit CDN loaded for web fallback');
        } else {
          console.log('MiniKit detected from host (World App)');
        }

        // Expose MiniKit interop for Flutter Web
        window.MiniKitInterop = {
          isInstalled: function() {
            try {
              if (window.MiniKit && typeof window.MiniKit.isInstalled === 'function') {
                return window.MiniKit.isInstalled();
              }
            } catch (e) {}
            return false;
          },
          walletAuth: async function(nonce) {
            if (!window.MiniKit || !(window.MiniKit.commandsAsync && typeof window.MiniKit.commandsAsync.walletAuth === 'function')) {
              return JSON.stringify({ status: 'error', error: 'MiniKit not available' });
            }
            try {
              const { commandPayload, finalPayload } = await window.MiniKit.commandsAsync.walletAuth({
                nonce: nonce,
                requestId: '0',
                expirationTime: new Date(Date.now() + 7 * 24 * 60 * 60 * 1000),
                notBefore: new Date(Date.now() - 24 * 60 * 60 * 1000),
                statement: 'Sign in to AIR24 to claim your flight compensation',
              });
              return JSON.stringify(finalPayload);
            } catch (error) {
              return JSON.stringify({ status: 'error', error: (error && error.message) ? error.message : String(error) });
            }
          },
          getWalletAddress: function() {
            return (window.MiniKit && window.MiniKit.walletAddress) ? window.MiniKit.walletAddress : null;
          }
        };
        // Do NOT load IDKit here. It will be injected on-demand when needed.
        console.log('IDKit not preloaded; will load on-demand if MiniKit is not installed.');
      } catch (e) {
        console.warn('MiniKit initialization error', e);
      }
    }
    initMiniKit();
  </script>

  <script>
    // Minimal wrapper to expose a stable Promise-based API to Flutter (via js_util)
    window.WorldIdInterop = {
      // Always report available on web; we will load IDKit on-demand in open().
      available: function () { return true; },
      open: function (config) {
        return new Promise(function (resolve, reject) {
          try {
            function ensureIdKitLoaded() {
              return new Promise(function (res, rej) {
                if (window.IDKit && typeof window.IDKit.open === 'function') { res(); return; }
                const s = document.createElement('script');
                s.src = 'https://cdn.jsdelivr.net/npm/@worldcoin/idkit-standalone@2.2.4/build/index.global.js';
                s.async = true;
                s.onload = function(){ res(); };
                s.onerror = function(){ rej(new Error('Failed to load IDKit script')); };
                document.head.appendChild(s);
                console.log('IDKit injected on-demand');
              });
            }

            ensureIdKitLoaded().then(function(){
              if (!window.IDKit) { throw new Error('IDKit not available after load'); }
            var appId = (config && config.app_id) || null;
            var action = (config && config.action) || null;
            var signal = (config && config.signal) || undefined;
            // Fallback to meta tags if not provided explicitly
            if (!appId) {
              var metaApp = document.querySelector('meta[name="worldcoin-app-id"]');
              if (metaApp) { appId = metaApp.getAttribute('content') || null; }
            }
            if (!action) {
              var metaAction = document.querySelector('meta[name="worldcoin-action"]');
              if (metaAction) { action = metaAction.getAttribute('content') || 'verify'; }
            }
            if (!appId) { throw new Error('Missing app_id'); }
            if (!action) { action = 'verify'; }
            window.IDKit.init({
              app_id: appId,
              action: action,
              signal: signal,
              onSuccess: function (result) {
                try {
                  resolve(JSON.stringify(result || {}));
                } catch (e) {
                  resolve('{}');
                }
              },
            });
            window.IDKit.open().catch(reject);
            }).catch(reject);
          } catch (err) { reject(err); }
        });
      }
    };
  </script>

</head>
<body>
  <script src="flutter_bootstrap.js" async></script>
</body>
</html>
